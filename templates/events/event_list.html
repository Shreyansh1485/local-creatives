{% extends 'base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Events</h2>
  {% if user.is_authenticated %}
    <a class="btn btn-primary" href="{% url 'event_create' %}">Create Event</a>
  {% else %}
    <a class="btn btn-outline-primary" href="{% url 'login' %}?next={% url 'event_create' %}">Login to create</a>
  {% endif %}
</div>

{% if events %}
  <div class="list-group">
    {% for e in events %}
      <a href="{% url 'event_detail' e.pk %}" class="list-group-item list-group-item-action">
        <h5 class="mb-1">{{ e.title }}</h5>
        <small class="text-muted">{{ e.start_time|date:"M d, Y H:i" }} â€” {{ e.location }}</small>
        <p class="mb-1 text-truncate">{{ e.description }}</p>
      </a>
    {% endfor %}
  </div>
{% else %}
  <p>No upcoming events.</p>
{% endif %}
{% endblock %}
